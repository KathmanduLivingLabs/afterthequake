{"version":3,"sources":["libs/stack.min.js","components/Section.js","components/StackWrapper.js","App.js","serviceWorker.js","index.js"],"names":["stack","sectionHeight","windowHeight","yt","size","window","innerWidth","innerHeight","fontSize","dispatch","d3","touchy","document","resize","section","style","filter","d","i","n","marginBottom","body","y0","y","sectionAndBackground","indicator","scrollRatio","isNaN","scrollTo","currentPosition","NaN","each","this","__stack__","index","active","on","background","insert","concat","node","append","attr","selectAll","data","enter","sectionPrevious","sectionCurrent","sectionNext","reposition","delta","keyCode","metaKey","setCurrentPosition","Infinity","shiftKey","Math","max","min","floor","ceil","documentElement","interrupt","transition","duration","tween","pageYOffset","t","preventDefault","dispatchEvent","event","target","sourceEvent","type","call","__data__","activate","deactivate","y1","i1","offset","_","arguments","length","Section","_ref","children","className","defaultClassName","full","react_default","a","createElement","textAlign","padding","backgroundSize","backgroundPosition","zIndex","StackWrapper","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","state","myRef","React","createRef","sectionLabels","bind","assertThisInitialized","initStack","firstMapMagic","bringBgToFront","sectionConfig","sectionName","backgroundNode","magicFunction","_this2","mapboxgl","map","container","center","zoom","point","coordinates","$","css","overflow","height","flyTo","addSource","addLayer","id","source","paint","circle-radius","circle-color","url","source-layer","fill-color","fill-opacity","fill-outline-color","setLayoutProperty","animate","timestamp","setPaintProperty","abs","sin","cos","requestAnimationFrame","console","log","once","position","_this3","isStyleLoaded","fitBounds","e","features","queryRenderedFeatures","layers","district","properties","code","html","process","presentIndex","sectionsWithSlidePositions","sectionBySection","allPositionsWithBg","newObj","forEach","item","htmlNodes","totalNodes","positions","k","indexOf","objectSpread","push","apply","totalSlides","finalObj","j","config","getSlideShowConfig2","props","isReady","sendBgBack","mystack","ref","key","href","rel","components_Section","Component","App","scrollTop","hasReachedZero","onScroll","setState","addEventListener","ready","src_components_StackWrapper","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.4ce4e433.chunk.js","sourcesContent":["// import './d3.v3.min';\nimport * as d3 from 'd3';\n\n\n\n/* eslint-disable */\n\nfunction stack() {\n    var stack = {},\n        size = [window.innerWidth || 1280, window.innerHeight || 760],\n        fontSize = 32,\n        sectionHeight,\n        windowHeight,\n        dispatch = d3.dispatch(\"scroll\", \"activate\", \"deactivate\"),\n        touchy = \"ontouchstart\" in document,\n        resize = touchy ? resizeTouchy : resizeNoTouchy,\n        currentPosition = 0,\n        i = NaN,\n        y = 0,\n        yt,\n        scrollRatio = 1 / 6;\n  \n    // window.scrollTo(0,0);\n  \n    var section = d3.selectAll(\"section\")\n        .style(\"box-sizing\", \"border-box\")\n        .style(\"line-height\", \"1.35em\")\n        .each(initialize);\n  \n    var n = section.size();\n  \n    // console.log(\"THIS is N\", n);\n  \n    var body = d3.select(\"body\")\n        .style(\"margin\", 0)\n        .style(\"padding\", 0)\n        .style(\"background\", \"#333\");\n  \n    if (touchy) {\n      section\n          .style(\"position\", \"relative\");\n  \n      d3.select(window)\n          .on(\"resize.stack\", resize)\n          .each(resize);\n    } else {\n\n      var background = d3.select(\".body\").insert(\"div\", \"section\")\n          .style(\"background\", \"#000\")\n          .style(\"box-shadow\", \"0 8px 16px rgba(0,0,0,.3)\")\n          .style(\"padding\", \"1px 0\")\n          .style(\"margin-top\", \"-1px\")\n          .style(\"z-index\", 0);\n  \n      section\n          .style(\"display\", \"none\")\n          .style(\"opacity\", 0)\n          .style(\"z-index\", 0);\n  \n      var sectionAndBackground = d3.selectAll(section[0].concat(background.node()))\n          .style(\"position\", \"fixed\")\n          .style(\"left\", 0)\n          .style(\"top\", 0)\n          .style(\"width\", \"100%\");\n  \n      var indicator = d3.select(\"body\").append(\"div\")\n          .attr(\"class\", \"indicator\")\n        .selectAll(\"div\")\n          .data(d3.range(section.size()))\n        .enter().append(\"div\")\n          .style(\"position\", \"absolute\")\n          .style(\"z-index\", 10)\n          .style(\"left\", 0)\n          .style(\"width\", \"3px\")\n          .style(\"background\", \"linear-gradient(to top,black,white)\");\n  \n      var sectionPrevious = d3.select(null),\n          sectionCurrent = d3.select(section[0][0]),\n          sectionNext = d3.select(section[0][1]);\n  \n      d3.select(window)\n          .on(\"resize.stack\", resize)\n          .on(\"scroll.stack\", reposition)\n          .on(\"keydown.stack\", keydown)\n          .each(resize);\n  \n      d3.timer(function() {\n        reposition();\n        return true;\n      });\n    }\n  \n    function dispatchEvent(event, i) {\n      var target = section[0][i], sourceEvent = event.sourceEvent = d3.event;\n      try {\n        d3.event = event;\n        dispatch[event.type].call(target, target.__data__, i);\n      } finally {\n        d3.event = sourceEvent;\n      }\n    }\n  \n    function initialize(d, i) {\n      this.__stack__ = {index: i, active: false};\n    }\n  \n    function activate() {\n      if (!this.__stack__.active) {\n        this.__stack__.active = true;\n        dispatchEvent({type: \"activate\"}, this.__stack__.index);\n      }\n    }\n  \n    function deactivate() {\n      if (this.__stack__.active) {\n        this.__stack__.active = false;\n        dispatchEvent({type: \"deactivate\"}, this.__stack__.index);\n      }\n    }\n  \n    function resizeTouchy() {\n      var marginBottom = 20;\n  \n      sectionHeight = size[1] / size[0] * innerWidth;\n      windowHeight = innerHeight;\n  \n      section\n          .style(\"height\", sectionHeight + \"px\")\n          .style(\"box-shadow\", \"0 4px 4px rgba(0,0,0,.3)\")\n        .filter(function(d, i) { return i < n - 1; })\n          .style(\"margin-bottom\", marginBottom + \"px\");\n  \n      body\n          .style(\"font-size\", innerWidth / size[0] * fontSize + \"px\");\n    }\n  \n    function resizeNoTouchy() {\n      if (sectionHeight) var y0 = y;\n  \n      sectionHeight = size[1] / size[0] * innerWidth;\n      windowHeight = innerHeight;\n  \n      sectionAndBackground\n          .style(\"top\", (windowHeight - sectionHeight) / 2 + \"px\")\n          .style(\"height\", sectionHeight + \"px\");\n  \n      indicator\n          .style(\"top\", function(i) { return (i + (1 - scrollRatio) / 2) * windowHeight + \"px\"; })\n          .style(\"height\", windowHeight * scrollRatio + \"px\");\n  \n      body\n          .style(\"font-size\", innerWidth / size[0] * fontSize + \"px\")\n          .style(\"height\", windowHeight * n + \"px\");\n  \n      // Preserve the current scroll position on resize.\n      if (!isNaN(y0)) scrollTo(0, (y = y0) * windowHeight);\n    }\n  \n    function reposition() {\n      var y1 = pageYOffset / windowHeight,\n          i1 = Math.max(0, Math.min(n - 1, Math.floor(y1 + (1 + scrollRatio) / 2)));\n  \n      if (i !== i1) {\n        if (i1 === i + 1) { // advance one\n          sectionPrevious.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionPrevious = sectionCurrent.interrupt().style(\"opacity\", 0).style(\"z-index\", 1);\n          sectionPrevious.transition().each(\"end\", deactivate);\n          sectionCurrent = sectionNext.interrupt().style(\"opacity\", 0).style(\"z-index\", 2).each(activate);\n          sectionCurrent.transition().style(\"opacity\", 1);\n          sectionNext = d3.select(section[0][i1 + 1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 0).style(\"z-index\", 0);\n        } else if (i1 === i - 1) { // rewind one\n          sectionNext.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionNext = sectionCurrent.interrupt().style(\"opacity\", 0).style(\"z-index\", 1);\n          sectionNext.transition().each(\"end\", deactivate);\n          sectionCurrent = sectionPrevious.interrupt().style(\"opacity\", 0).style(\"z-index\", 2).each(activate);\n          sectionCurrent.transition().style(\"opacity\", 1);\n          sectionPrevious = d3.select(section[0][i1 - 1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 0).style(\"z-index\", 0);\n        } else { // skip\n          sectionPrevious.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionCurrent.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionNext.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionPrevious = d3.select(section[0][i1 - 1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionCurrent = d3.select(section[0][i1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 1).style(\"z-index\", 2).each(activate);\n          sectionNext = d3.select(section[0][i1 + 1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n        }\n        i = i1;\n      }\n  \n      dispatchEvent({type: \"scroll\", offset: y = y1}, i);\n    }\n  \n    function setCurrentPosition(delta) {\n      currentPosition = isNaN(yt) ? y : yt+delta;\n    }\n  \n    function keydown() {\n      var delta;\n      switch (d3.event.keyCode) {\n        case 39: // right arrow\n        if (d3.event.metaKey) return;\n        case 40: // down arrow\n        case 34: // page down\n          delta = d3.event.metaKey ? Infinity : 1;\n          setCurrentPosition(delta);\n          break;\n        case 37: // left arrow\n        if (d3.event.metaKey) return;\n        case 38: // up arrow\n        case 33: // page up\n          delta = d3.event.metaKey ? -Infinity : -1;\n          setCurrentPosition(delta);\n  \n          break;\n        case 32: // space\n        delta = d3.event.shiftKey ? -1 : 1;\n        break;\n        default: return;\n      }\n  \n      var y0 = isNaN(yt) ? y : yt;\n  \n      yt = Math.max(0, Math.min(n - 1, (delta > 0\n          ? Math.floor(y0 + (1 + scrollRatio) / 2)\n          : Math.ceil(y0 - (1 - scrollRatio) / 2)) + delta));\n  \n        // console.log(\"NEW YT\", yt);\n  \n  \n  \n      // console.log(document.documentElement);\n      d3.select(document.documentElement)\n          .interrupt()\n        .transition()\n          .duration(500)\n          .tween(\"scroll\", function() {\n            var i = d3.interpolateNumber(pageYOffset, yt * windowHeight);\n            return function(t) { scrollTo(0, i(t)); };\n          })\n          .each(\"end\", function() { yt = NaN; });\n  \n      d3.event.preventDefault();\n    }\n  \n    stack.size = function(_) {\n      return arguments.length ? (size = [+_[0], +_[1]], resize(), stack) : size;\n    };\n  \n    stack.scrollRatio = function(_) {\n      return arguments.length ? (scrollRatio = +_, resize(), stack) : scrollRatio;\n    };\n  \n    stack.fontSize = function(_) {\n      return arguments.length ? (fontSize = +_, resize(), stack) : fontSize;\n    };\n  \n    stack.currentPosition = function(_) {\n      return arguments.length ? (currentPosition = +_, resize(), stack) : currentPosition;\n    };\n  \n  \n    // stack.currentPosition = isNaN(yt) ? y : yt;\n  \n    d3.rebind(stack, dispatch, \"on\");\n  \n    return stack;\n  }\n\nexport default stack;","import React from \"react\";\n// import { url } from 'inspector';\n\nfunction Section({ children, className, background, full }) {\n    const defaultClassName = className || \"default\";\n    if (full) {\n        return (\n            <section\n                className={defaultClassName + \" slide\"}\n                style={{\n                    textAlign: \"right\",\n                    padding: \"5em\",\n                    backgroundSize: \"cover\",\n                    backgroundPosition: \"center\",\n                    background: `url(${background})` || \"#000\",\n                    zIndex: 4\n                }}\n            >\n                <div\n                    className={\"row \" + className + \"-child\"}\n                    style={{ zIndex: 30 }}\n                >\n                    <div className=\" offset-md-2 col-md-10\">{children}</div>\n                </div>\n            </section>\n        );\n    }\n    return (\n        <section\n            className={defaultClassName + \" slide\"}\n            style={{\n                textAlign: \"right\",\n                padding: \"5em\",\n                backgroundSize: \"cover\",\n                backgroundPosition: \"center\",\n                background: `url(${background})` || \"#000\",\n                zIndex: 4\n            }}\n        >\n            <div\n                className={\"row \" + className + \"-child\"}\n                style={{ zIndex: 30 }}\n            >\n                <div className=\" offset-md-7 col-md-5\">{children}</div>\n            </div>\n        </section>\n    );\n}\n\nexport default Section;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport * as mapboxgl from \"mapbox-gl\";\nimport $ from \"jquery\";\n\nimport stack from \"../libs/stack.min\";\n\nimport Section from \"./Section\";\nimport \"./StackWrapper.css\";\n\nclass StackWrapper extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {};\n\n\t\tthis.myRef = React.createRef();\n\n\t\tthis.sectionLabels = [\"firstMap\", \"secondMap\"];\n\n\t\tthis.activate = this.activate.bind(this);\n\t\tthis.deactivate = this.deactivate.bind(this);\n\t\tthis.initStack = this.initStack.bind(this);\n\n\t\tthis.firstMapMagic = this.firstMapMagic.bind(this);\n\t\tthis.bringBgToFront = this.bringBgToFront.bind(this);\n\t\tthis.sectionConfig = [\n\t\t\t{\n\t\t\t\tsectionName: \"firstMap\",\n\t\t\t\tbackgroundNode: \"firstMapBg\",\n\t\t\t\tmagicFunction: this.firstMapMagic\n\t\t\t},\n\t\t\t{\n\t\t\t\tsectionName: \"secondMap\",\n\t\t\t\tbackgroundNode: \"secondMapBg\",\n\t\t\t\tmagicFunction: this.firstMapMagic\n\t\t\t}\n\t\t];\n\t}\n\n\tcomponentWillMount() {}\n\n\tcomponentDidMount() {\n\t\tmapboxgl.accessToken =\n\t\t\t\"pk.eyJ1IjoiYWZ0ZXJ0aGVxdWFrZSIsImEiOiJjankxeGg3dzEwNnJtM2Nyemp6a3U5OXJ6In0.aA7Az96tDYkdreQiI5dn_w\";\n\t\tconst map = new mapboxgl.Map({\n\t\t\tcontainer: \"firstMapBg\", // container id\n\t\t\tstyle: \"mapbox://styles/afterthequake/cjy2z0w5b28591dqvy4g7iw9t\", // stylesheet location\n\t\t\tcenter: [85.324, 27.7172], // starting position [lng, lat]\n\t\t\tzoom: 4 // starting zoom\n\t\t});\n\n\t\tconst point = {\n\t\t\ttype: \"Point\",\n\t\t\tcoordinates: [84.731, 28.231]\n\t\t};\n\n\t\t$(\"html, body\").css({\n\t\t\toverflow: \"hidden\",\n\t\t\theight: \"100%\"\n\t\t});\n\n\t\td3.select(\".scroll-ready\").style(\"visibility\", \"hidden\");\n\n\t\tmap.on(\"load\", () => {\n\t\t\tmap.flyTo({\n\t\t\t\tcenter: [85.324, 27.7172], // starting position [lng, lat]\n\t\t\t\tzoom: 4 // starting zoom\n\t\t\t});\n\n\t\t\tmap.addSource(\"point\", {\n\t\t\t\ttype: \"geojson\",\n\t\t\t\tdata: point\n\t\t\t});\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"point\",\n\t\t\t\tsource: \"point\",\n\t\t\t\ttype: \"circle\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"circle-radius\": 5,\n\t\t\t\t\t\"circle-color\": \"orange\"\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"shaking-intensity\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.53b7infa\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"shakingintensity_updated-8xrpym\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-opacity\": 0.6,\n\t\t\t\t\t\"fill-outline-color\": \"#fff\"\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"vdcs\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.bhwygfry\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"vdc_shp_updated-1hhls4\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-opacity\": 0.7\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"langtang\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.6x1w6i1n\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"langtang_vdc-d7sith\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-opacity\": 0.7,\n\t\t\t\t\t\"fill-outline-color\": [\"get\", \"line\"]\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"landslides\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.3uw55vup\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"landslides_updated-2mbant\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-opacity\": 0.7\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"11-dists\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.3j3p40y7\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"dist11_shp_updated-77f0vk\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-outline-color\": \"#fff\",\n\t\t\t\t\t\"fill-opacity\": 0.7\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst animate = timestamp => {\n\t\t\t\tconst maxRadius = 120;\n\t\t\t\tconst minRadius = 5;\n\t\t\t\tconst minOpacity = 0.1;\n\n\t\t\t\tmap.setPaintProperty(\n\t\t\t\t\t\"point\",\n\t\t\t\t\t\"circle-radius\",\n\t\t\t\t\tMath.abs(Math.sin(timestamp / 600) / 2) * maxRadius +\n\t\t\t\t\t\tminRadius\n\t\t\t\t);\n\t\t\t\tmap.setPaintProperty(\n\t\t\t\t\t\"point\",\n\t\t\t\t\t\"circle-opacity\",\n\t\t\t\t\tMath.abs(Math.cos(timestamp / 600) / 2) + minOpacity\n\t\t\t\t);\n\t\t\t\tmap.setPaintProperty(\n\t\t\t\t    \"shaking-intensity\",\n\t\t\t\t    \"fill-opacity\",\n\t\t\t\t    Math.abs(Math.sin(timestamp / 600)) * 1\n\t\t\t\t);\n\n\t\t\t\trequestAnimationFrame(animate);\n\t\t\t};\n\n\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\"visibility\",\n\t\t\t\t\"none\"\n\t\t\t);\n\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\tthis.map.setLayoutProperty(\"langtang\", \"visibility\", \"none\");\n\t\t\tthis.map.setLayoutProperty(\"landslides\", \"visibility\", \"none\");\n\t\t\tthis.map.setLayoutProperty(\"11-dists\", \"visibility\", \"none\");\n\n\t\t\tanimate(0);\n\n\t\t\t$(\"html, body\").css({\n\t\t\t\toverflow: \"auto\",\n\t\t\t\theight: \"auto\"\n\t\t\t});\n\t\t\td3.select(\".scroll-ready\")\n\t\t\t\t.style(\"visibility\", \"visible\")\n\t\t\t\t.transition()\n\t\t\t\t.duration(1000);\n\n\t\t\tconsole.log(\"end of map.onload\");\n\t\t});\n\t\tmap.once(\"style.load\", () => {\n\t\t\tconsole.log(\"end of map.onstyleload\");\n\t\t});\n\n\t\tthis.map = map;\n\t\tthis.initStack();\n\t}\n\n\tfirstMapMagic(position) {\n\t\tswitch (position) {\n\t\t\tcase 0:\n\t\t\t\t// this.map.flyTo({\n\t\t\t\t//     center: [85.142, 28.2104],\n\t\t\t\t//     zoom: 9\n\t\t\t\t// });\n\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[80.7249999999999943, 26.3711699546563878],\n\t\t\t\t\t\t\t[88.1835507091418265, 30.4307314125281145]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"point\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\t// this.map.flyTo({\n\t\t\t\t//     center: [85.142, 28.2104],\n\t\t\t\t//     zoom: 7\n\t\t\t\t// });\n\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\t//   fit bounds\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[80.7249999999999943, 26.3711699546563878],\n\t\t\t\t\t\t\t[88.1835507091418265, 30.4307314125281145]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"point\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[84.4187401620000628, 26.9229091520000452],\n\t\t\t\t\t\t\t[86.6857055750000427, 28.7505129480000505]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"visible\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\t// this.map.fitBounds([[85.3995589610000820,28.1292153560000315], [ 85.8001092160000667,28.3862116340000625]], {padding:100})\n\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[84.4187401620000628, 26.9229091520000452],\n\t\t\t\t\t\t\t[86.6857055750000427, 28.7505129480000505]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"visible\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[85.399558961000082, 28.1292153560000315],\n\t\t\t\t\t\t\t[85.8001092160000667, 28.3862116340000625]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 5:\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[84.4187401620000628, 26.9229091520000452],\n\t\t\t\t\t\t\t[86.6857055750000427, 28.7505129480000505]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\td3.select(\".firstMapBg\").style(\"z-index\", 4);\n\t\t\t\t// d3.select(\"section\").style('z-index','unset');\n\t\t\t\td3.select(\".exceptionLayer\").style(\"z-index\", 5);\n\n\t\t\t\tthis.map.on(\"mousemove\", \"11-dists\", e => {\n\t\t\t\t\tconst features = this.map.queryRenderedFeatures(e.point, {\n\t\t\t\t\t\tlayers: [\"11-dists\"]\n                    });\n                    const district = features[0].properties[\"DNAME.x\"]\n                    const code = features[0].properties[\"DCODE\"]\n\t\t\t\t\tconsole.log(features[0].properties);\n                    d3.select(\".exceptionInfo\")\n                        .style(\"z-index\", 5)\n                        .html(`<div>\n                        <h5>\n                        ${district} - Reconstruction Progress\n                        </h5>    \n                        <img class=\"img-responsive\" width=\"100%\" src=${process.env.PUBLIC_URL}/img/${code}.jpg/>\n                        </div>\n                        `)\n\t\t\t\t\t// const locationName = getTranslationForLocationName(features[0].properties.dist_id || 'all', features[0].properties.code, language);\n\t\t\t\t\t// d3.select('#info')\n\t\t\t\t\t//   .text(`${localeFunction.mapOutLineOnHover[language](locationName, features[0].properties.attribute.toFixed(1))}`);\n\t\t\t\t});\n\n\t\t\t\tthis.map.on(\"mouseout\", \"11-dists\", e => {\n\t\t\t\t\t// d3.select('#info')\n\t\t\t\t\t//   .text(locale.mapInteractionHelper[language]);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tgetSlideShowConfig2(presentIndex) {\n\t\tconst sectionsWithSlidePositions = { sectionBySection: {} };\n\t\tconst { sectionConfig } = this;\n\n\t\tconst allPositionsWithBg = [];\n\t\tconst newObj = {};\n\t\tsectionConfig.forEach((item, i) => {\n\t\t\tconst htmlNodes = d3.selectAll(\".\" + item.sectionName);\n\t\t\tconst totalNodes = htmlNodes[0].length;\n\t\t\tconst section = d3.selectAll(\"section\");\n\t\t\tconst positions = [];\n\n\t\t\tfor (let k = 0; k < totalNodes; k++) {\n\t\t\t\tconst index = section[0].indexOf(htmlNodes[0][k]);\n\n\t\t\t\tnewObj[index] = { ...item, position: k };\n\n\t\t\t\tpositions.push(section[0].indexOf(htmlNodes[0][k]));\n\t\t\t}\n\n\t\t\tsectionsWithSlidePositions.sectionBySection[item.sectionName] = {\n\t\t\t\tsectionName: item.sectionName,\n\t\t\t\tpositions: positions,\n\t\t\t\tbackgroundNode: sectionConfig[i].backgroundNode,\n\t\t\t\tmagicFunction: sectionConfig[i].magicFunction\n\t\t\t};\n\n\t\t\tallPositionsWithBg.push(...positions);\n\t\t});\n\n\t\tconst totalSlides = d3.selectAll(\".slide\")[0].length;\n\n\t\tconst finalObj = {};\n\t\tfor (let j = 0; j < totalSlides; j++) {\n\t\t\tif (allPositionsWithBg.indexOf(j) !== -1) {\n\t\t\t\tfinalObj[j] = {\n\t\t\t\t\t...newObj[j]\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tfinalObj[j] = null;\n\t\t\t}\n\t\t}\n\n\t\treturn finalObj[presentIndex];\n\t}\n\n\tbringBgToFront(config) {\n\t\tif (true) {\n\t\t\td3.select(\".\" + config.backgroundNode).style(\"z-index\", 3);\n\t\t}\n\n\t\td3.selectAll(\".\" + config.sectionName)\n\t\t\t.filter(function(d, i) {\n\t\t\t\treturn i === config.position;\n\t\t\t})\n\t\t\t.style(\"z-index\", 3)\n\t\t\t.style(\"background-color\", \"rgba(0,0,0,0)\");\n\t}\n\n\tsendBgBack() {\n\t\tconsole.log(\"sendBgBack\");\n\t\tthis.sectionConfig.forEach(item => {\n\t\t\td3.select(\".\" + item.backgroundNode).style(\"z-index\", -1);\n\t\t});\n\t}\n\n\t// activate function - slide specific extra stuff\n\tactivate(d, i) {\n\t\tconst config = this.getSlideShowConfig2(i);\n\n\t\tif (config !== null) {\n\t\t\tthis.bringBgToFront(config);\n\t\t\td3.select(\".exceptionLayer\").style(\"z-index\", -1);\n\t\t\td3.select(\".exceptionInfo\").style(\"z-index\", -1);\n\t\t\tthis.props.isReady && config.magicFunction(config.position);\n\t\t} else {\n\t\t\tthis.sendBgBack();\n\t\t}\n\t}\n\n\t// deactivate function - slide specific extra stuff\n\tdeactivate(d, i) {}\n\n\tinitStack() {\n\t\tthis.mystack = stack()\n\t\t\t.on(\"activate\", this.activate)\n\t\t\t.on(\"deactivate\", this.deactivate);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div ref={this.myRef} className=\"body\">\n\t\t\t\t{this.sectionConfig.map(item => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={item.backgroundNode}\n\t\t\t\t\t\t\tid={item.backgroundNode}\n\t\t\t\t\t\t\tclassName={item.backgroundNode + \" test\"}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\n\t\t\t\t<div className=\"exceptionLayer\">\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tMore than 4 years later, the country has made\n\t\t\t\t\t\tsignificant progress on their reconstruction.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tAs of July 2019, 387,500 out of 726,000 eligible\n\t\t\t\t\t\tbeneficiaries have completed construction. received NPR\n\t\t\t\t\t\t300000 (~USD $3000).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tSource: the{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://ehrpinspection.nra.gov.np/moud/combined-chart\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEarthquake Housing Reconstruction Registration\n\t\t\t\t\t\t\tProgram\n\t\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\t\thas tracked reconstruction progress.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n                <div className=\"exceptionInfo\">\n\n                </div>\n\t\t\t\t<Section\n\t\t\t\t\tid=\"test\"\n\t\t\t\t\tbackground=\"https://dl.dropboxusercontent.com/s/a2njgu1jbms5ia4/risk_bg.jpg\"\n\t\t\t\t>\n\t\t\t\t\t<p className=\"largeText\">\n\t\t\t\t\t\t<b>Nepal after the quake.</b>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tExploring the impacts and reconstruction of the 2015\n\t\t\t\t\t\tearthquake.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tSubmitted as part of the{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://understandrisk.org/vizrisk/\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t#VizRisk\n\t\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\t\tchallenge by Arogya Koirala, Sabine Loos, and Karen\n\t\t\t\t\t\tBarns\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"grey scroll-ready\">\n\t\t\t\t\t\tScroll down to continue.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tOn April 25, 2015 a Mw7.8 earthquake struck central\n\t\t\t\t\t\tNepal.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThe epicenter of the earthquake was in the village of\n\t\t\t\t\t\tBarpak, only 175 km away from the Nepal’s largest city,\n\t\t\t\t\t\tKathmandu.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tShaking could be felt across most of the country..\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tHere is the shaking intensity from the{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://earthquake.usgs.gov/earthquakes/eventpage/us20002926/executive#shakemap?source=us&code=us20002926\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tUSGS Shakemap\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t. An intensity as low as five can cause objects to fall\n\t\t\t\t\t\tfrom homes’ shelves and windows to crack.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\t..and it severely damaged homes across 11 districts.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThis is the average damage of all homes with each\n\t\t\t\t\t\tvillage of the 11 hardest hit districts outside of\n\t\t\t\t\t\tKathmandu Valley. Here, a damage level of five means all\n\t\t\t\t\t\tthe homes within that village collapsed.{\" \"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tSource: The Government of Nepal surveyed the household\n\t\t\t\t\t\timpact for each home outside of Kathmandu Valley, made\n\t\t\t\t\t\tpublicly available{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"http://eq2015.npc.gov.np\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\there\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t. Blank areas due to unsurveyed locations or missing\n\t\t\t\t\t\tgeometries.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tMountainous regions were particularly affected\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tMany homes in the Himalayas to the north were also\n\t\t\t\t\t\timpacted by landslides triggered by the earthquake.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tLangtang village alone had 291 landslides{\" \"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tHere you can see the areas where landslides occurred in\n\t\t\t\t\t\tthe month following the earthquake.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tSource: The United States Geological Survey used pre-\n\t\t\t\t\t\tand post-event satellite imagery to map landslides,\n\t\t\t\t\t\tavailable{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://www.sciencebase.gov/catalog/item/582c74fbe4b04d580bd377e8\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\there.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section background=\"https://www.dl.dropboxusercontent.com/s/mctsnz7ctrp3z5e/langtang_bg.jpg\">\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tThe village was almost entirely buried.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tAfter an avalanche hit the villages of Ghodatabela and\n\t\t\t\t\t\tLangtang, nearly 250 people were reported missing. Since\n\t\t\t\t\t\tLangtang is a popular terkking route, casualties\n\t\t\t\t\t\tincluded a large number of domestic and international\n\t\t\t\t\t\ttourists, as well as locals from the region.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tPhoto by{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://www.flickr.com/photos/markhorrell/33657429816/in/photostream/\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMark Horell on flickr\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t, CC BY-NC-SA 2.0\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tDamages and losses from the earthquake were estimated at\n\t\t\t\t\t\tNPR 706 billion (USD$7 billion).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThree weeks after the earthquake struck, the Government\n\t\t\t\t\t\tof Nepal led a Post Disaster Needs Assessment to\n\t\t\t\t\t\testimate their recovery needs.{\" \"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tSource: The Post Disaster Needs Assessment can be found{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://www.npc.gov.np/images/category/PDNA_volume_BFinalVersion.pdf\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\there.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tThe international community responded with a pledge for\n\t\t\t\t\t\tNPR 480 billion (USD$4 billion).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThe International Conference on Nepal’s Reconstruction\n\t\t\t\t\t\tbrought together representatives from over 60 countries\n\t\t\t\t\t\texactly two months after the earthquake.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tSource: a briefing of the conference is{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://kathmandupost.ekantipur.com/news/2015-06-25/44-bn-aid-pledged-during-donor-conference.html\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tin The Kathmandu Post.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tPart of this funding was distributed to homeowners to\n\t\t\t\t\t\treconstruct.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThe National Reconstruction Authority of Nepal provided\n\t\t\t\t\t\taid for eligible homeowners. A damaged home received NPR\n\t\t\t\t\t\t100000 (~USD $1000) and a collapsed home received NPR\n\t\t\t\t\t\t300000 (~USD $3000)\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tSource: the full grant disbursement procedure is{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://drive.google.com/file/d/0B1aJ_HQvgE5rcTFHcHN0bWZ0VUU/view\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\there\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section\n\t\t\t\t\tclassName={this.sectionConfig[0].sectionName}\n\t\t\t\t></Section>\n\n\t\t\t\t<Section full>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tFrom financing, to getting construction materials,\n\t\t\t\t\t\torganizing the reconstruction for a large part of the\n\t\t\t\t\t\tpopulation is a massive effort.\n\t\t\t\t\t</p>\n\t\t\t\t\t<br />\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tGiven the scale, the reconstruction is progressing well.{\" \"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<br />\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tHowever, reconstruction is only one component of\n\t\t\t\t\t\trecovery… it also encompasses aspects such as\n\t\t\t\t\t\tlivelihoods, the economy and well-being, some of which\n\t\t\t\t\t\tmay be difficult to measure and show on a map but is\n\t\t\t\t\t\tequally as important.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default StackWrapper;\n","import React , {Component} from 'react';\nimport StackWrapper from './components/StackWrapper'; \nimport $ from 'jquery'; \nimport './App.css';\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      scrollTop: $(\"html, body\").scrollTop(),\n      hasReachedZero: $(\"html, body\").scrollTop() === 0,\n    }\n\n    this.onScroll = this.onScroll.bind(this)\n  }\n\n  onScroll() {\n\n      this.setState({\n        scrollTop: 0,\n        hasReachedZero: true,\n      })\n\n  }\n\n  componentWillMount() {\n    window.addEventListener(\"scroll\", this.onScroll)\n    $(document).ready(function(){\n      $(this).scrollTop(0);\n    });\n  }\n  componentDidMount() {\n    // window.scrollTo(0,0);\n    $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n  }\n\n\n  render() {\n    // console.log(\"hasReachedZero\", this.state.hasReachedZero);\n    \n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {this.state.hasReachedZero && <StackWrapper isReady={this.state.hasReachedZero}/>}\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}