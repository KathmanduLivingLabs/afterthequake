{"version":3,"sources":["libs/stack.min.js","components/Section.js","components/StackWrapper.js","App.js","serviceWorker.js","index.js"],"names":["stack","sectionHeight","windowHeight","yt","size","window","innerWidth","innerHeight","fontSize","dispatch","d3","touchy","document","resize","section","style","filter","d","i","n","marginBottom","body","y0","y","sectionAndBackground","indicator","scrollRatio","isNaN","scrollTo","currentPosition","NaN","each","this","__stack__","index","active","on","background","insert","concat","node","append","attr","selectAll","data","enter","sectionPrevious","sectionCurrent","sectionNext","reposition","delta","keyCode","metaKey","setCurrentPosition","Infinity","shiftKey","Math","max","min","floor","ceil","documentElement","interrupt","transition","duration","tween","pageYOffset","t","preventDefault","dispatchEvent","event","target","sourceEvent","type","call","__data__","activate","deactivate","y1","i1","offset","_","arguments","length","Section","_ref","children","className","full","bgSize","bgPosition","defaultClassName","react_default","a","createElement","textAlign","padding","backgroundImage","backgroundSize","zIndex","backgroundPosition","backgroundRepeat","legendTitles","1","2","5","legends","label","value","images","districts","13","20","21","22","23","24","28","29","30","31","36","backgrounds","langtang","damagecollapse","fullrecovery","reconrecovery","langtangbg","homebg","StackWrapper","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","state","myRef","React","createRef","sectionLabels","bind","assertThisInitialized","initStack","firstMapMagic","bringBgToFront","sectionConfig","sectionName","backgroundNode","magicFunction","_this2","mapboxgl","map","container","center","zoom","point","coordinates","$","css","overflow","height","ready","scrollTop","flyTo","addSource","addLayer","id","source","paint","circle-radius","circle-color","url","source-layer","fill-color","fill-opacity","fill-outline-color","setLayoutProperty","animate","timestamp","setPaintProperty","abs","sin","cos","requestAnimationFrame","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","position","_this3","isStyleLoaded","fitBounds","makeLegend","e","features","queryRenderedFeatures","layers","district","properties","code","html","toTitleCase","presentIndex","sectionsWithSlidePositions","sectionBySection","allPositionsWithBg","newObj","forEach","item","htmlNodes","totalNodes","positions","k","indexOf","objectSpread","push","apply","totalSlides","finalObj","j","config","console","log","getSlideShowConfig2","props","isReady","sendBgBack","legendConfig","mystack","ref","key","ClipLoader_default","sizeUnit","margin","color","loading","href","rel","components_Section","Component","App","hasReachedZero","onScroll","setState","src_components_StackWrapper","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.1e829cb0.chunk.js","sourcesContent":["// import './d3.v3.min';\nimport * as d3 from 'd3';\n\n\n\n/* eslint-disable */\n\nfunction stack() {\n    var stack = {},\n        size = [window.innerWidth || 1280, window.innerHeight || 760],\n        fontSize = 32,\n        sectionHeight,\n        windowHeight,\n        dispatch = d3.dispatch(\"scroll\", \"activate\", \"deactivate\"),\n        touchy = \"ontouchstart\" in document,\n        resize = touchy ? resizeTouchy : resizeNoTouchy,\n        currentPosition = 0,\n        i = NaN,\n        y = 0,\n        yt,\n        scrollRatio = 1 / 6;\n  \n    // window.scrollTo(0,0);\n  \n    var section = d3.selectAll(\"section\")\n        .style(\"box-sizing\", \"border-box\")\n        .style(\"line-height\", \"1.35em\")\n        .each(initialize);\n  \n    var n = section.size();\n  \n    // console.log(\"THIS is N\", n);\n  \n    var body = d3.select(\"body\")\n        .style(\"margin\", 0)\n        .style(\"padding\", 0)\n        .style(\"background\", \"#333\");\n  \n    if (touchy) {\n      section\n          .style(\"position\", \"relative\");\n  \n      d3.select(window)\n          .on(\"resize.stack\", resize)\n          .each(resize);\n    } else {\n\n      var background = d3.select(\".body\").insert(\"div\", \"section\")\n          .style(\"background\", \"#000\")\n          .style(\"box-shadow\", \"0 8px 16px rgba(0,0,0,.3)\")\n          .style(\"padding\", \"1px 0\")\n          .style(\"margin-top\", \"-1px\")\n          .style(\"z-index\", 0);\n  \n      section\n          .style(\"display\", \"none\")\n          .style(\"opacity\", 0)\n          .style(\"z-index\", 0);\n  \n      var sectionAndBackground = d3.selectAll(section[0].concat(background.node()))\n          .style(\"position\", \"fixed\")\n          .style(\"left\", 0)\n          .style(\"top\", 0)\n          .style(\"width\", \"100%\");\n  \n      var indicator = d3.select(\"body\").append(\"div\")\n          .attr(\"class\", \"indicator\")\n        .selectAll(\"div\")\n          .data(d3.range(section.size()))\n        .enter().append(\"div\")\n          .style(\"position\", \"absolute\")\n          .style(\"z-index\", 10)\n          .style(\"left\", 0)\n          .style(\"width\", \"3px\")\n          .style(\"background\", \"linear-gradient(to top,black,white)\");\n  \n      var sectionPrevious = d3.select(null),\n          sectionCurrent = d3.select(section[0][0]),\n          sectionNext = d3.select(section[0][1]);\n  \n      d3.select(window)\n          .on(\"resize.stack\", resize)\n          .on(\"scroll.stack\", reposition)\n          .on(\"keydown.stack\", keydown)\n          .each(resize);\n  \n      d3.timer(function() {\n        reposition();\n        return true;\n      });\n    }\n  \n    function dispatchEvent(event, i) {\n      var target = section[0][i], sourceEvent = event.sourceEvent = d3.event;\n      try {\n        d3.event = event;\n        dispatch[event.type].call(target, target.__data__, i);\n      } finally {\n        d3.event = sourceEvent;\n      }\n    }\n  \n    function initialize(d, i) {\n      this.__stack__ = {index: i, active: false};\n    }\n  \n    function activate() {\n      if (!this.__stack__.active) {\n        this.__stack__.active = true;\n        dispatchEvent({type: \"activate\"}, this.__stack__.index);\n      }\n    }\n  \n    function deactivate() {\n      if (this.__stack__.active) {\n        this.__stack__.active = false;\n        dispatchEvent({type: \"deactivate\"}, this.__stack__.index);\n      }\n    }\n  \n    function resizeTouchy() {\n      var marginBottom = 20;\n  \n      sectionHeight = size[1] / size[0] * innerWidth;\n      windowHeight = innerHeight;\n  \n      section\n          .style(\"height\", sectionHeight + \"px\")\n          .style(\"box-shadow\", \"0 4px 4px rgba(0,0,0,.3)\")\n        .filter(function(d, i) { return i < n - 1; })\n          .style(\"margin-bottom\", marginBottom + \"px\");\n  \n      body\n          .style(\"font-size\", innerWidth / size[0] * fontSize + \"px\");\n    }\n  \n    function resizeNoTouchy() {\n      if (sectionHeight) var y0 = y;\n  \n      sectionHeight = size[1] / size[0] * innerWidth;\n      windowHeight = innerHeight;\n  \n      sectionAndBackground\n          .style(\"top\", (windowHeight - sectionHeight) / 2 + \"px\")\n          .style(\"height\", sectionHeight + \"px\");\n  \n      indicator\n          .style(\"top\", function(i) { return (i + (1 - scrollRatio) / 2) * windowHeight + \"px\"; })\n          .style(\"height\", windowHeight * scrollRatio + \"px\");\n  \n      body\n          .style(\"font-size\", innerWidth / size[0] * fontSize + \"px\")\n          .style(\"height\", windowHeight * n + \"px\");\n  \n      // Preserve the current scroll position on resize.\n      if (!isNaN(y0)) scrollTo(0, (y = y0) * windowHeight);\n    }\n  \n    function reposition() {\n      var y1 = pageYOffset / windowHeight,\n          i1 = Math.max(0, Math.min(n - 1, Math.floor(y1 + (1 + scrollRatio) / 2)));\n  \n      if (i !== i1) {\n        if (i1 === i + 1) { // advance one\n          sectionPrevious.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionPrevious = sectionCurrent.interrupt().style(\"opacity\", 0).style(\"z-index\", 1);\n          sectionPrevious.transition().each(\"end\", deactivate);\n          sectionCurrent = sectionNext.interrupt().style(\"opacity\", 0).style(\"z-index\", 2).each(activate);\n          sectionCurrent.transition().style(\"opacity\", 1);\n          sectionNext = d3.select(section[0][i1 + 1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 0).style(\"z-index\", 0);\n        } else if (i1 === i - 1) { // rewind one\n          sectionNext.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionNext = sectionCurrent.interrupt().style(\"opacity\", 0).style(\"z-index\", 1);\n          sectionNext.transition().each(\"end\", deactivate);\n          sectionCurrent = sectionPrevious.interrupt().style(\"opacity\", 0).style(\"z-index\", 2).each(activate);\n          sectionCurrent.transition().style(\"opacity\", 1);\n          sectionPrevious = d3.select(section[0][i1 - 1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 0).style(\"z-index\", 0);\n        } else { // skip\n          sectionPrevious.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionCurrent.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionNext.interrupt().style(\"display\", \"none\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionPrevious = d3.select(section[0][i1 - 1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n          sectionCurrent = d3.select(section[0][i1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 1).style(\"z-index\", 2).each(activate);\n          sectionNext = d3.select(section[0][i1 + 1]).interrupt().style(\"display\", \"block\").style(\"opacity\", 0).style(\"z-index\", 0).each(deactivate);\n        }\n        i = i1;\n      }\n  \n      dispatchEvent({type: \"scroll\", offset: y = y1}, i);\n    }\n  \n    function setCurrentPosition(delta) {\n      currentPosition = isNaN(yt) ? y : yt+delta;\n    }\n  \n    function keydown() {\n      var delta;\n      switch (d3.event.keyCode) {\n        case 39: // right arrow\n        if (d3.event.metaKey) return;\n        case 40: // down arrow\n        case 34: // page down\n          delta = d3.event.metaKey ? Infinity : 1;\n          setCurrentPosition(delta);\n          break;\n        case 37: // left arrow\n        if (d3.event.metaKey) return;\n        case 38: // up arrow\n        case 33: // page up\n          delta = d3.event.metaKey ? -Infinity : -1;\n          setCurrentPosition(delta);\n  \n          break;\n        case 32: // space\n        delta = d3.event.shiftKey ? -1 : 1;\n        break;\n        default: return;\n      }\n  \n      var y0 = isNaN(yt) ? y : yt;\n  \n      yt = Math.max(0, Math.min(n - 1, (delta > 0\n          ? Math.floor(y0 + (1 + scrollRatio) / 2)\n          : Math.ceil(y0 - (1 - scrollRatio) / 2)) + delta));\n  \n        // console.log(\"NEW YT\", yt);\n  \n  \n  \n      // console.log(document.documentElement);\n      d3.select(document.documentElement)\n          .interrupt()\n        .transition()\n          .duration(500)\n          .tween(\"scroll\", function() {\n            var i = d3.interpolateNumber(pageYOffset, yt * windowHeight);\n            return function(t) { scrollTo(0, i(t)); };\n          })\n          .each(\"end\", function() { yt = NaN; });\n  \n      d3.event.preventDefault();\n    }\n  \n    stack.size = function(_) {\n      return arguments.length ? (size = [+_[0], +_[1]], resize(), stack) : size;\n    };\n  \n    stack.scrollRatio = function(_) {\n      return arguments.length ? (scrollRatio = +_, resize(), stack) : scrollRatio;\n    };\n  \n    stack.fontSize = function(_) {\n      return arguments.length ? (fontSize = +_, resize(), stack) : fontSize;\n    };\n  \n    stack.currentPosition = function(_) {\n      return arguments.length ? (currentPosition = +_, resize(), stack) : currentPosition;\n    };\n  \n  \n    // stack.currentPosition = isNaN(yt) ? y : yt;\n  \n    d3.rebind(stack, dispatch, \"on\");\n  \n    return stack;\n  }\n\nexport default stack;","import React from \"react\";\n// import { url } from 'inspector';\n\nfunction Section({ children, className, background, full, bgSize,  bgPosition  }) {\n    const defaultClassName = className || \"default\";\n    if (full) {\n        return (\n            <section\n                className={defaultClassName + \" slide\"}\n                style={{\n                    textAlign: \"right\",\n                    padding: \"5em\",\n                    backgroundImage:  `url(${background})`,\n                    backgroundSize:\"cover\",\n                    // backgroundPosition: bgPosition? bgPosition : \"center\",\n                    // backgroundRepeat: \"no-repeat\",\n                    zIndex: 4\n                }}\n            >\n                <div\n                    className={\"row \" + className + \"-child\"}\n                    style={{ zIndex: 30 }}\n                >\n                    <div className=\" offset-md-6 col-md-6\">{children}</div>\n                </div>\n            </section>\n        );\n    }\n    return (\n        <section\n            className={defaultClassName + \" slide\"}\n            style={{\n                textAlign: \"right\",\n                padding: \"5em\",\n                backgroundImage: bgPosition? `url(${background})` : \"#000\",\n                backgroundSize: bgSize ? bgSize : \"cover\",\n                backgroundPosition: bgPosition ? bgPosition : \"center\",\n                backgroundRepeat: \"no-repeat\",\n                zIndex: 4\n            }}\n        >\n            <div\n                className={\"row \" + className + \"-child\"}\n                style={{ zIndex: 30 }}\n            >\n                <div className=\" offset-md-7 col-md-5\">{children}</div>\n            </div>\n        </section>\n    );\n}\n\nexport default Section;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport * as mapboxgl from \"mapbox-gl\";\nimport $ from \"jquery\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\n\nimport stack from \"../libs/stack.min\";\n\nimport Section from \"./Section\";\nimport \"./StackWrapper.css\";\n\nconst legendTitles = {\n\t1: \"MMI (Shaking Intensity)\",2:\"Average Damage Grade\",5: \"Percentage of homes reconstructed by June 2019\"\n}\n\nconst legends = {\n\t1: [\n\t\t{label: \"1\", value:\"#679990\"},\n\t\t{label: \"2\", value:\"#779f88\"},\n\t\t{label: \"3\", value:\"#88a580\"},\n\t\t{label: \"4\", value:\"#99ac78\"},\n\t\t{label: \"5\", value:\"#aab270\"},\n\t\t{label: \"6\", value:\"#bbb969\"},\n\t\t{label: \"7\", value:\"#ccbf61\"},\n\t\t{label: \"8\", value:\"#ddc659\"},\n\t\t{label: \"9\", value:\"#eecc51\"},\n\t\t{label: \"10\", value:\"#ffd34a\"},\n\t],\n\t2: [\n\t\t{label: \"1-2\", value:\"#ffffff\"},\n\t\t{label: \"2-3\", value:\"#fffbef\"},\n\t\t{label: \"3-4\", value:\"#ffefbf\"},\n\t\t{label: \"4-5\", value:\"#ffdc72\"},\n\n\t],\n\t5: [\n\t\t{label: \"32% to 46%\", value:\"#eff4f3\"},\n\t\t{label: \"46% to 63%\", value:\"#c2d6d2\"},\n\t\t{label: \"64% to 70%\", value:\"#94b7b1\"},\n\t\t{label: \"70% to 85%\", value:\"#76a39b\"},\n\t]\n\n}\n\nconst images = {\n    districts: {\n        \"13\": \"https://dl.dropboxusercontent.com/s/0ay4ttnkvkmq1zz/13.jpg\",\n        \"20\": \"https://dl.dropboxusercontent.com/s/wqcvg13idbp3cct/20.jpg\",\n        \"21\": \"https://dl.dropboxusercontent.com/s/jc5objqrxc01n9i/21.jpg\",\n        \"22\": \"https://dl.dropboxusercontent.com/s/fhe1m81siwcnzdv/22.jpg\",\n        \"23\": \"https://dl.dropboxusercontent.com/s/bnl032h26osmhzt/23.jpg\",\n        \"24\": \"https://dl.dropboxusercontent.com/s/62syda2lmooa4i6/24.jpg\",\n        \"28\": \"https://dl.dropboxusercontent.com/s/t9u4tn7xcyqpkh1/28.jpg\",\n        \"29\": \"https://dl.dropboxusercontent.com/s/aj1w6vci09sre79/29.jpg\",\n        \"30\": \"https://dl.dropboxusercontent.com/s/fc853tyhuybmvgi/30.jpg\",\n        \"31\": \"https://dl.dropboxusercontent.com/s/so51iklp76mcain/31.jpg\",\n        \"36\": \"https://dl.dropboxusercontent.com/s/lmdi7d34yfjvy2q/36.jpg\",\n    },\n    backgrounds: {\n        \"langtang\": \"https://dl.dropboxusercontent.com/s/mctsnz7ctrp3z5e/langtang_bg.jpg\",\n        \"damagecollapse\": \"https://dl.dropboxusercontent.com/s/8lnr1jpumnjhush/damagecollapse.png\",\n        \"fullrecovery\": \"https://dl.dropboxusercontent.com/s/y5n2drf5oqjjlw3/fullrecovery.png\",\n        \"reconrecovery\": \"https://dl.dropboxusercontent.com/s/q57glaj2mh89zb7/reconstructionrecovery.png\",\n        \"langtangbg\": \"https://dl.dropboxusercontent.com/s/3y4etl5yocnm883/langtang_bg.jpg\",\n        \"homebg\": \"https://dl.dropboxusercontent.com/s/z4u2sh1u9hqpcok/adli_edited.jpg\"\n    }\n}\n\n\nclass StackWrapper extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {};\n\n\t\tthis.myRef = React.createRef();\n\n\t\tthis.sectionLabels = [\"firstMap\", \"secondMap\"];\n\n\t\tthis.activate = this.activate.bind(this);\n\t\tthis.deactivate = this.deactivate.bind(this);\n\t\tthis.initStack = this.initStack.bind(this);\n\n\t\tthis.firstMapMagic = this.firstMapMagic.bind(this);\n\t\tthis.bringBgToFront = this.bringBgToFront.bind(this);\n\t\tthis.sectionConfig = [\n\t\t\t{\n\t\t\t\tsectionName: \"firstMap\",\n\t\t\t\tbackgroundNode: \"firstMapBg\",\n\t\t\t\tmagicFunction: this.firstMapMagic\n\t\t\t},\n\t\t\t{\n\t\t\t\tsectionName: \"secondMap\",\n\t\t\t\tbackgroundNode: \"secondMapBg\",\n\t\t\t\tmagicFunction: this.firstMapMagic\n\t\t\t}\n\t\t];\n\t}\n\n\tcomponentWillMount() {}\n\n\tcomponentDidMount() {\n\t\tmapboxgl.accessToken =\n\t\t\t\"pk.eyJ1IjoiYWZ0ZXJ0aGVxdWFrZSIsImEiOiJjankxeGg3dzEwNnJtM2Nyemp6a3U5OXJ6In0.aA7Az96tDYkdreQiI5dn_w\";\n\t\tconst map = new mapboxgl.Map({\n\t\t\tcontainer: \"firstMapBg\", // container id\n\t\t\tstyle: \"mapbox://styles/afterthequake/cjy2z0w5b28591dqvy4g7iw9t\", // stylesheet location\n\t\t\tcenter: [85.324, 27.7172], // starting position [lng, lat]\n\t\t\tzoom: 4 // starting zoom\n\t\t});\n\n\n\n\t\tconst point = {\n\t\t\ttype: \"Point\",\n\t\t\tcoordinates: [84.731, 28.231]\n\t\t};\n\n\t\t$(\"html, body\").css({\n\t\t\toverflow: \"hidden\",\n\t\t\theight: \"100%\"\n\t\t});\n\n\t\t$(document).ready(function(){\n\t\t\t$(this).scrollTop(0);\n\t\t  });\n\t\td3.select(\".scroll-ready\").style(\"visibility\", \"hidden\");\n\n\t\tmap.on(\"load\", () => {\n\t\t\tmap.flyTo({\n\t\t\t\tcenter: [85.324, 27.7172], // starting position [lng, lat]\n\t\t\t\tzoom: 4 // starting zoom\n\t\t\t});\n\n\n\n\t\t\tmap.addSource(\"point\", {\n\t\t\t\ttype: \"geojson\",\n\t\t\t\tdata: point\n\t\t\t});\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"point\",\n\t\t\t\tsource: \"point\",\n\t\t\t\ttype: \"circle\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"circle-radius\": 5,\n\t\t\t\t\t\"circle-color\": \"orange\"\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"shaking-intensity\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.53b7infa\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"shakingintensity_updated-8xrpym\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-opacity\": 0.6,\n\t\t\t\t\t\"fill-outline-color\": \"#fff\"\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"vdcs\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.bhwygfry\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"vdc_shp_updated-1hhls4\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-opacity\": 0.7\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"langtang\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.6x1w6i1n\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"langtang_vdc-d7sith\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-opacity\": 0.7,\n\t\t\t\t\t\"fill-outline-color\": [\"get\", \"line\"]\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"landslides\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.3uw55vup\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"landslides_updated-2mbant\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-opacity\": 0.7\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: \"11-dists\",\n\t\t\t\tsource: {\n\t\t\t\t\ttype: \"vector\",\n\t\t\t\t\turl: \"mapbox://afterthequake.3j3p40y7\"\n\t\t\t\t},\n\t\t\t\t\"source-layer\": \"dist11_shp_updated-77f0vk\",\n\t\t\t\ttype: \"fill\",\n\t\t\t\tpaint: {\n\t\t\t\t\t\"fill-color\": [\"get\", \"color\"],\n\t\t\t\t\t\"fill-outline-color\": \"#fff\",\n\t\t\t\t\t\"fill-opacity\": 0.7\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t\n\t\t\t// map.fitBounds(\n\t\t\t// \t[\n\t\t\t// \t\t[80.7249999999999943, 26.3711699546563878],\n\t\t\t// \t\t[88.1835507091418265, 30.4307314125281145]\n\t\t\t// \t],\n\t\t\t// \t{ padding: 100, offset: [-100, 0] }\n\t\t\t// );\n\n\t\t\tconst animate = timestamp => {\n\t\t\t\tconst maxRadius = 120;\n\t\t\t\tconst minRadius = 5;\n\t\t\t\tconst minOpacity = 0.1;\n\n\t\t\t\tmap.setPaintProperty(\n\t\t\t\t\t\"point\",\n\t\t\t\t\t\"circle-radius\",\n\t\t\t\t\tMath.abs(Math.sin(timestamp / 600) / 2) * maxRadius +\n\t\t\t\t\t\tminRadius\n\t\t\t\t);\n\t\t\t\tmap.setPaintProperty(\n\t\t\t\t\t\"point\",\n\t\t\t\t\t\"circle-opacity\",\n\t\t\t\t\tMath.abs(Math.cos(timestamp / 600) / 2) + minOpacity\n\t\t\t\t);\n\t\t\t\tmap.setPaintProperty(\n\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\"fill-opacity\",\n\t\t\t\t\tMath.abs(Math.sin(timestamp / 600)) * 1\n\t\t\t\t);\n\n\t\t\t\trequestAnimationFrame(animate);\n\t\t\t};\n\n\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\"visibility\",\n\t\t\t\t\"none\"\n\t\t\t);\n\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\tthis.map.setLayoutProperty(\"langtang\", \"visibility\", \"none\");\n\t\t\tthis.map.setLayoutProperty(\"landslides\", \"visibility\", \"none\");\n\t\t\tthis.map.setLayoutProperty(\"11-dists\", \"visibility\", \"none\");\n\n\t\t\tanimate(0);\n\n\t\t\t\n\t\t\t// map.fitBounds(\n\t\t\t// \t[\n\t\t\t// \t\t[80.7249999999999943, 26.3711699546563878],\n\t\t\t// \t\t[88.1835507091418265, 30.4307314125281145]\n\t\t\t// \t],\n\t\t\t// \t{ padding: 100, offset: [-100, 0] }\n\t\t\t// );\n\n\t\t\t$(\"html, body\").css({\n\t\t\t\toverflow: \"auto\",\n\t\t\t\theight: \"auto\"\n\t\t\t});\n\t\t\td3.select(\".scroll-ready\").style(\"visibility\", \"visible\");\n\n\t\t\td3.select(\".loadingScreen\")\n\t\t\t\t.transition(\"ease\")\n\t\t\t\t.style(\"opacity\", \"0\")\n\t\t\t\t.duration(1000)\n\t\t\t\t.style(\"z-index\", \"-1\");\n\n\t\t});\n\n\t\tthis.map = map;\n\t\tthis.initStack();\n\t}\n\n\ttoTitleCase(str) {\n\t\treturn str.replace(/\\w\\S*/g, function(txt) {\n\t\t\treturn txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n\t\t});\n\t}\n\n\tfirstMapMagic(position) {\n\t\tswitch (position) {\n\t\t\tcase 0:\n\t\t\t\t// this.map.flyTo({\n\t\t\t\t//     center: [85.142, 28.2104],\n\t\t\t\t//     zoom: 9\n\t\t\t\t// });\n\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[80.7249999999999943, 26.3711699546563878],\n\t\t\t\t\t\t\t[88.1835507091418265, 30.4307314125281145]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\n\t\t\t\t\t// this.map.fitBounds(\n\t\t\t\t\t// \t[\n\t\t\t\t\t// \t\t[80.7249999999999943, 26.3711699546563878],\n\t\t\t\t\t// \t\t[88.1835507091418265, 30.4307314125281145]\n\t\t\t\t\t// \t],\n\t\t\t\t\t// \t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t// );\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"point\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\t// this.map.flyTo({\n\t\t\t\t//     center: [85.142, 28.2104],\n\t\t\t\t//     zoom: 7\n\t\t\t\t// });\n\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\t//   fit bounds\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[80.7249999999999943, 26.3711699546563878],\n\t\t\t\t\t\t\t[88.1835507091418265, 30.4307314125281145]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"point\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.makeLegend(position);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[84.4187401620000628, 26.9229091520000452],\n\t\t\t\t\t\t\t[86.6857055750000427, 28.7505129480000505]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"visible\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.makeLegend(position);\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\t// this.map.fitBounds([[85.3995589610000820,28.1292153560000315], [ 85.8001092160000667,28.3862116340000625]], {padding:100})\n\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[84.4187401620000628, 26.9229091520000452],\n\t\t\t\t\t\t\t[86.6857055750000427, 28.7505129480000505]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"visible\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[85.399558961000082, 28.1292153560000315],\n\t\t\t\t\t\t\t[85.8001092160000667, 28.3862116340000625]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 5:\n                    d3.select(\".exceptionLayer\").style(\"z-index\", 5);\n                    d3.select(\".firstMapBg\").style(\"z-index\", 4);\n                    // d3.select(\"section\").style('z-index','unset');\n\t\t\t\tif (this.map.isStyleLoaded()) {\n\t\t\t\t\tthis.map.fitBounds(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t[84.4187401620000628, 26.9229091520000452],\n\t\t\t\t\t\t\t[86.6857055750000427, 28.7505129480000505]\n\t\t\t\t\t\t],\n\t\t\t\t\t\t{ padding: 100, offset: [-100, 0] }\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"shaking-intensity\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\"point\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\"vdcs\", \"visibility\", \"none\");\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"langtang\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"landslides\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"none\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.map.setLayoutProperty(\n\t\t\t\t\t\t\"11-dists\",\n\t\t\t\t\t\t\"visibility\",\n\t\t\t\t\t\t\"visible\"\n\t\t\t\t\t);\n\t\t\t\t\tthis.makeLegend(position);\n\n\t\t\t\t}\n\n\n\n\t\t\t\tthis.map.on(\"mousemove\", \"11-dists\", e => {\n\t\t\t\t\tconst features = this.map.queryRenderedFeatures(e.point, {\n\t\t\t\t\t\tlayers: [\"11-dists\"]\n\t\t\t\t\t});\n\t\t\t\t\tconst district = features[0].properties[\"DNAME.x\"];\n                    const code = features[0].properties[\"DCODE\"];\n\t\t\t\t\td3.select(\".exceptionInfo\").style(\"z-index\", 5).html(`<div>\n                        <h5>\n                        ${this.toTitleCase(district)} - Reconstruction Progress\n                        </h5>    \n                        <img class=\"img-responsive\" width=\"100%\" src=${\n\t\t\t\t\t\t\timages.districts[code]\n\t\t\t\t\t\t}/>\n                        </div>\n                        `);\n\t\t\t\t\t// const locationName = getTranslationForLocationName(features[0].properties.dist_id || 'all', features[0].properties.code, language);\n\t\t\t\t\t// d3.select('#info')\n\t\t\t\t\t//   .text(`${localeFunction.mapOutLineOnHover[language](locationName, features[0].properties.attribute.toFixed(1))}`);\n\t\t\t\t});\n\n\t\t\t\tthis.map.on(\"mouseout\", \"11-dists\", e => {\n\t\t\t\t\td3.select(\".exceptionInfo\").style(\"z-index\", -1);\n\t\t\t\t\t// d3.select('#info')\n\t\t\t\t\t//   .text(locale.mapInteractionHelper[language]);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tgetSlideShowConfig2(presentIndex) {\n\t\tconst sectionsWithSlidePositions = { sectionBySection: {} };\n\t\tconst { sectionConfig } = this;\n\n\t\tconst allPositionsWithBg = [];\n\t\tconst newObj = {};\n\t\tsectionConfig.forEach((item, i) => {\n\t\t\tconst htmlNodes = d3.selectAll(\".\" + item.sectionName);\n\t\t\tconst totalNodes = htmlNodes[0].length;\n\t\t\tconst section = d3.selectAll(\"section\");\n\t\t\tconst positions = [];\n\n\t\t\tfor (let k = 0; k < totalNodes; k++) {\n\t\t\t\tconst index = section[0].indexOf(htmlNodes[0][k]);\n\n\t\t\t\tnewObj[index] = { ...item, position: k };\n\n\t\t\t\tpositions.push(section[0].indexOf(htmlNodes[0][k]));\n\t\t\t}\n\n\t\t\tsectionsWithSlidePositions.sectionBySection[item.sectionName] = {\n\t\t\t\tsectionName: item.sectionName,\n\t\t\t\tpositions: positions,\n\t\t\t\tbackgroundNode: sectionConfig[i].backgroundNode,\n\t\t\t\tmagicFunction: sectionConfig[i].magicFunction\n\t\t\t};\n\n\t\t\tallPositionsWithBg.push(...positions);\n\t\t});\n\n\t\tconst totalSlides = d3.selectAll(\".slide\")[0].length;\n\n\t\tconst finalObj = {};\n\t\tfor (let j = 0; j < totalSlides; j++) {\n\t\t\tif (allPositionsWithBg.indexOf(j) !== -1) {\n\t\t\t\tfinalObj[j] = {\n\t\t\t\t\t...newObj[j]\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tfinalObj[j] = null;\n\t\t\t}\n\t\t}\n\n\t\treturn finalObj[presentIndex];\n\t}\n\n\tbringBgToFront(config) {\n\t\tif (true) {\n\t\t\td3.select(\".\" + config.backgroundNode).style(\"z-index\", 3);\n\t\t}\n\n\t\td3.selectAll(\".\" + config.sectionName)\n\t\t\t.filter(function(d, i) {\n\t\t\t\treturn i === config.position;\n\t\t\t})\n\t\t\t.style(\"z-index\", 3)\n\t\t\t.style(\"background-color\", \"rgba(0,0,0,0)\");\n\t}\n\n\tsendBgBack() {\n\t\tconsole.log(\"sendBgBack\");\n\t\tthis.sectionConfig.forEach(item => {\n\t\t\td3.select(\".\" + item.backgroundNode).style(\"z-index\", -1);\n\t\t});\n\t}\n\n\t// activate function - slide specific extra stuff\n\tactivate(d, i) {\n\t\tconst config = this.getSlideShowConfig2(i);\n\n\t\tif (config !== null) {\n\t\t\tthis.bringBgToFront(config);\n            d3.select(\".exceptionLayer\").style(\"z-index\", -1);\n            d3.select(\".exceptionInfo\").style(\"z-index\", -1);\n            d3.select(\".legend\").style(\"z-index\", -1);\n            this.props.isReady && config.magicFunction(config.position);\n            \n\t\t} else {\n            d3.select(\".exceptionLayer\").style(\"z-index\", -1);\n\t\t\td3.select(\".exceptionInfo\").style(\"z-index\", -1);\n            d3.select(\".legend\").style(\"z-index\", -1);\n\t\t\t\n\t\t\tthis.sendBgBack();\n\t\t}\n\t\t\n\t}\n\n\tmakeLegend(position){\n\t\t\n\t\tconst legendConfig = legends[position];\n\n\t\tlet html=`<p style=\"color: #aaa; font-size: 1.75vmin\">LEGEND</p>`\n\t\t html +=`<p class=\"legendTitle\">${legendTitles[position]}</p>`\n\t\t\t\n\n\t\tconsole.log(legendConfig);\n\t\t\n\t\tlegendConfig.forEach((item)=> {\n\t\t\thtml += `<div style=\"display:block\" class=\"text-left px-2\">\n\t\t\t<div style=\"background-color:${item.value}; height:15px; width:15px; display: inline-block; margin-bottom: -2px\"></div>\n\t\t\t<span style=\"color:rgba(0,0,0,0.6); font-size:2vmin; color: #ccc; margin-left:4px;\">${item.label}</span>\n\t\t\t</div>` \n\t\t})\n\n\n\t\t// html +=`</div>`\n\n\t\t// console.log(html);\n\t\t\n\t\td3.select(\".legend\")\n\t\t\t.html(html)\n\t\t\t.transition(\"ease\")\n\t\t\t.style(\"z-index\", '5')\n\t\t\t.duration(1000);\n\t\t\n\t}\n\t// deactivate function - slide specific extra stuff\n\tdeactivate(d, i) {}\n\n\tinitStack() {\n\t\tthis.mystack = stack()\n\t\t\t.on(\"activate\", this.activate)\n\t\t\t.on(\"deactivate\", this.deactivate);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div ref={this.myRef} className=\"body\">\n\t\t\t\t{this.sectionConfig.map(item => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={item.backgroundNode}\n\t\t\t\t\t\t\tid={item.backgroundNode}\n\t\t\t\t\t\t\tclassName={item.backgroundNode + \" test\"}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\n\t\t\t\t<div className=\"row d-flex loadingScreen\">\n\t\t\t\t\t<div className=\"col-sm-2 offset-md-5 align-self-center\">\n\t\t\t\t\t\t<div className=\"text-center\">\n                            <ClipLoader\n\t\t\t\t\t\t\t// css={override}\n\t\t\t\t\t\t\tsizeUnit={\"px\"}\n                            size={170}\n                            margin= \"0 auto\"\n\t\t\t\t\t\t\tcolor={\"#fff\"}\n\t\t\t\t\t\t\tloading={true}\n\t\t\t\t\t\t/>\n\n                        </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"legend\"></div>\n\n\t\t\t\t<div className=\"exceptionLayer\">\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tMore than 4 years later, the country has made\n\t\t\t\t\t\tsignificant progress on their reconstruction.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tAs of July 2019, 387,500 out of 726,000 eligible\n\t\t\t\t\t\tbeneficiaries have completed construction. received NPR\n\t\t\t\t\t\t300000 (~USD $3000).\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p className=\"grey \">\n\t\t\t\t\t\tMove your mouse over a district to learn more.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p className=\"tinyText\">\n\t\t\t\t\t\tSource: the{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://ehrpinspection.nra.gov.np/moud/combined-chart\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEarthquake Housing Reconstruction Registration\n\t\t\t\t\t\t\tProgram\n\t\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\t\thas tracked reconstruction progress.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"exceptionInfo\"></div>\n\t\t\t\t<Section\n                    id=\"test\"\n                    // background = {images.backgrounds.homebg}\n                    full\n\t\t\t\t\tbackground=\"https://dl.dropboxusercontent.com/s/a2njgu1jbms5ia4/risk_bg.jpg\"\n\t\t\t\t>\n\t\t\t\t\t<p className=\"largeText\">\n\t\t\t\t\t\t<b>Nepal after the quake.</b>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"mediumTextLight\">\n\t\t\t\t\t\tExploring the impacts and reconstruction of the 2015\n\t\t\t\t\t\tGorkha earthquake.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"mediumTextLight\">\n\t\t\t\t\t\tSubmitted as part of the{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://understandrisk.org/vizrisk/\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t#VizRisk\n\t\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\t\tchallenge by Arogya Koirala, Sabine Loos, and Karen\n\t\t\t\t\t\tBarns\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"grey scroll-ready\">\n\t\t\t\t\t\tPress the down arrow of your keyboard to begin.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tOn April 25, 2015 a Mw7.8 earthquake struck central\n\t\t\t\t\t\tNepal.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThe epicenter of the earthquake was in the village of\n\t\t\t\t\t\tBarpak, only 175 km away from the Nepal’s largest city,\n\t\t\t\t\t\tKathmandu.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tShaking could be felt across most of the country..\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tHere is the shaking intensity from the{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://earthquake.usgs.gov/earthquakes/eventpage/us20002926/executive#shakemap?source=us&code=us20002926\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tUSGS Shakemap\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t. An intensity as low as five can cause objects to fall\n\t\t\t\t\t\tfrom homes’ shelves and windows to crack.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\t..and it severely damaged homes across 11 districts.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\tThis is the average damage to homes in villages of the 11 hardest hit districts outside Kathmandu Valley. A damage level of five means all\n\t\t\t\t\t\tthe homes within that village collapsed.{\" \"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"tinyText\">\n\t\t\t\t\t\tSource: The Government of Nepal surveyed the household\n\t\t\t\t\t\timpact for each home outside of Kathmandu Valley, made\n\t\t\t\t\t\tpublicly available{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"http://eq2015.npc.gov.np\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\there\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t. Blank areas due to unsurveyed locations or missing\n\t\t\t\t\t\tgeometries.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tMountainous regions were particularly affected\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tMany homes in the Himalayas to the north were also\n\t\t\t\t\t\timpacted by landslides triggered by the earthquake.\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section className={this.sectionConfig[0].sectionName}>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tLangtang village alone had 291 landslides{\" \"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tHere you can see the areas where landslides occurred in\n\t\t\t\t\t\tthe month following the earthquake.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"tinyText\">\n\t\t\t\t\t\tSource: The United States Geological Survey used pre-\n\t\t\t\t\t\tand post-event satellite imagery to map landslides,\n\t\t\t\t\t\tavailable{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://www.sciencebase.gov/catalog/item/582c74fbe4b04d580bd377e8\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\there.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section full background={images.backgrounds.langtang} bgSize=\"cover\" >\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tThe village was almost entirely buried.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tAfter an avalanche hit the villages of Ghodatabela and\n\t\t\t\t\t\tLangtang, nearly 250 people were reported missing. Since\n\t\t\t\t\t\tLangtang is a popular trekking route, casualties\n\t\t\t\t\t\tincluded a large number of domestic and international\n\t\t\t\t\t\ttourists, as well as locals from the region.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"tinyText\">\n\t\t\t\t\t\tPhoto by{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://www.flickr.com/photos/markhorrell/33657429816/in/photostream/\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMark Horell on flickr\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t, CC BY-NC-SA 2.0\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tDamages and losses from the earthquake were estimated at\n\t\t\t\t\t\tNPR 706 billion (USD $7 billion).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThree weeks after the earthquake struck, the Government\n\t\t\t\t\t\tof Nepal led a Post Disaster Needs Assessment to\n\t\t\t\t\t\testimate their recovery needs.{\" \"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"tinyText\">\n\t\t\t\t\t\tSource: The Post Disaster Needs Assessment can be found{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://www.npc.gov.np/images/category/PDNA_volume_BFinalVersion.pdf\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\there.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\t\t\t\t<Section>\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tThe international community responded with a pledge for\n\t\t\t\t\t\tNPR 480 billion (USD $4 billion).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThe International Conference on Nepal’s Reconstruction\n\t\t\t\t\t\tbrought together representatives from over 60 countries\n\t\t\t\t\t\texactly two months after the earthquake.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"tinyText\">\n\t\t\t\t\t\tSource: a briefing of the conference is{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://kathmandupost.ekantipur.com/news/2015-06-25/44-bn-aid-pledged-during-donor-conference.html\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tin The Kathmandu Post.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section background = {images.backgrounds.damagecollapse} bgSize=\"900px\" bgPosition=\"left center\">\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\t\tPart of this funding was distributed to homeowners to\n\t\t\t\t\t\treconstruct.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"smallText\">\n\t\t\t\t\t\tThe National Reconstruction Authority of Nepal provided\n\t\t\t\t\t\taid for eligible homeowners. A damaged home received NPR 10000 (~USD $1000) and a collapsed home received NPR 300000 (~USD $3000).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"tinyText\">\n\t\t\t\t\t\tSource: the full grant disbursement procedure is{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://drive.google.com/file/d/0B1aJ_HQvgE5rcTFHcHN0bWZ0VUU/view\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\there\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>\n\t\t\t\t</Section>\n\n\t\t\t\t<Section\n\t\t\t\t\tclassName={this.sectionConfig[0].sectionName}\n\t\t\t\t></Section>\n\n\t\t\t\t<Section background = {images.backgrounds.reconrecovery} bgSize=\"1000px\" bgPosition=\"left center\">\n\t\t\t\t\t<p className=\"mediumText\">\n\t\t\t\t\tFrom financing to getting construction materials, organizing nationwide reconstruction is a massive effort.\n\t\t\t\t\t</p>\n                    <p className=\"mediumText\">\n\t\t\t\t\tGiven the scale, Nepal’s reconstruction effort is progressing well.\n\t\t\t\t\t</p>\n\t\t\t\t\t\n\t\t\t\t</Section>\n      \n                <Section background = {images.backgrounds.fullrecovery} bgSize=\"1000px\" bgPosition=\"left center\">\n                    <p className=\"mediumText\">\n\t\t\t\t\t\tHowever, reconstruction is only one component of\n\t\t\t\t\t\trecovery. It also encompasses aspects such as\n\t\t\t\t\t\tlivelihoods, the economy and well-being. \n\t\t\t\t\t</p>\n                    <br/>\n                    <p className=\"mediumText\">\n\t\t\t\t\t\tThese are difficult to quantify and show on a map, but are equally important.\n                    </p>\n\n\t\t\t\t</Section>\n\n\t\t\t\t<Section >\n\t\t\t\t\t{/* <p className=\"mediumText\">End.</p> */}\n\n\t\t\t\t</Section>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default StackWrapper;\n","import React , {Component} from 'react';\nimport StackWrapper from './components/StackWrapper'; \nimport $ from 'jquery'; \nimport './App.css';\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      scrollTop: $(\"html, body\").scrollTop(),\n      hasReachedZero: $(\"html, body\").scrollTop() === 0,\n    }\n\n    this.onScroll = this.onScroll.bind(this)\n  }\n\n  onScroll() {\n\n      this.setState({\n        scrollTop: 0,\n        hasReachedZero: true,\n      })\n\n  }\n\n  componentWillMount() {\n    // window.addEventListener(\"scroll\", this.onScroll)\n    // $(document).ready(function(){\n    //   $(this).scrollTop(0);\n    // });\n  }\n  componentDidMount() {\n    // window.scrollTo(0,0);\n    $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n  }\n\n\n  render() {\n    // console.log(\"hasReachedZero\", this.state.hasReachedZero);\n    \n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {this.state.hasReachedZero && <StackWrapper isReady={this.state.hasReachedZero}/>}\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}